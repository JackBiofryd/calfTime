{"version":3,"sources":["shared/components/Button.js","shared/components/NavLinks.js","shared/images/logo.png","shared/components/Navbar.js","shared/components/Alert.js","shared/hooks/http-hook.js","utils/dates.js","shared/images/placeholderCow.png","cows/components/CowItem.js","cows/pages/CowRelatives.js"],"names":["Button","props","href","className","color","danger","inverse","block","extraClasses","children","to","exact","type","onClick","disabled","NavLinks","auth","useContext","AuthContext","isLoggedIn","Fragment","logout","Navbar","fixed","src","logo","alt","Alert","getIconClassName","message","code","useHttp","useState","isLoading","setIsLoading","error","setError","useCallback","a","url","method","body","headers","fetch","response","json","data","Error","ok","msg","dateRegex","DATE_FORMAT","getTodaysDate","moment","format","toFormatedDate","date","test","getDueDate","fertilizationDate","dueDate","add","getCheckingDate","startDate","endDate","cowIsDue","startDueDate","subtract","endDueDate","isAfter","isBefore","isSame","cowShouldBeChecked","CowItem","displayOnly","dueOn","image","process","placeholderImage","tag","name","bornOn","milk","antibioticDate","id","fertDate","undefined","checkingDates","onDelete","CowRelatives","currentCow","setCurrentCow","mother","setMother","setChildren","cowId","useParams","sendRequest","useEffect","Authorization","token","responseData","console","fetchCowRelatives","length","map","cow"],"mappings":"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","file":"static/js/8.d41f44b5.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Button(props) {\r\n\tif (props.href) {\r\n\t\treturn (\r\n\t\t\t<a\r\n\t\t\t\thref={props.href}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\tif (props.to) {\r\n\t\treturn (\r\n\t\t\t<Link\r\n\t\t\t\tto={props.to}\r\n\t\t\t\texact={props.exact}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype={props.type}\r\n\t\t\tonClick={props.onClick}\r\n\t\t\tdisabled={props.disabled}\r\n\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t} ${props.inverse && 'btn-inverse'} ${props.block && 'btn-block'} ${\r\n\t\t\t\tprops.extraClasses\r\n\t\t\t} ${props.disabled && 'btn-disabled'}`}>\r\n\t\t\t{props.children}\r\n\t\t</button>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport Button from './Button';\r\nimport AuthContext from '../../context/auth-context';\r\n\r\nexport default function NavLinks() {\r\n\tconst auth = useContext(AuthContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ul className=\"nav-links\">\r\n\t\t\t\t{auth.isLoggedIn && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button to=\"/cows\">COWS</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button onClick={auth.logout}>LOGOUT</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/login\">LOGIN</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/signup\">SIGN UP</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6237e665.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavLinks from './NavLinks';\r\nimport logo from '../images/logo.png';\r\n\r\nexport default function Navbar(props) {\r\n\treturn (\r\n\t\t<nav className={`main-navbar py-1 ${props.fixed && 'navbar-fixed'}`}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Link to=\"/\" className=\"nav-logo\">\r\n\t\t\t\t\t<img className=\"logo\" src={logo} alt=\"Logo\" />\r\n\t\t\t\t\t<h1 className=\"M-heading\">Calf Time</h1>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<NavLinks />\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Alert(props) {\r\n\tconst getIconClassName = type => {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'error':\r\n\t\t\t\treturn 'fas fa-exclamation-circle';\r\n\t\t\tcase 'info':\r\n\t\t\t\treturn 'fas fa-info-circle';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'fas icon';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`alert-container my-1-5 alert-${props.type}`}>\r\n\t\t\t<i className={`${getIconClassName(props.type)} mr-1`}></i>\r\n\t\t\t<p>\r\n\t\t\t\t{props.message}\r\n\t\t\t\t{props.code && `: ${props.code}`}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [error, setError] = useState();\r\n\r\n\tconst sendRequest = useCallback(\r\n\t\tasync (url = '', method = 'GET', body = null, headers = {}) => {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url, {\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t\theaders\r\n\t\t\t\t});\r\n\t\t\t\tlet data;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata = await response.json();\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tthrow new Error('Something went wrong, please try again.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!response.ok) throw new Error(data.msg);\r\n\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\treturn data;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetError(err.message);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn [isLoading, error, sendRequest];\r\n};\r\n","import moment from 'moment';\r\n\r\nconst dateRegex = /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/;\r\nconst DATE_FORMAT = 'DD.MM.YYYY';\r\n\r\nexport const getTodaysDate = () => {\r\n\tconst todayDate = moment();\r\n\r\n\treturn todayDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const toFormatedDate = date => {\r\n\tif (!date || !dateRegex.test(date)) return;\r\n\r\n\tconst dateObject = moment(date, DATE_FORMAT);\r\n\r\n\treturn dateObject.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getDueDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate)) return;\r\n\r\n\tconst dueDate = moment(fertilizationDate, DATE_FORMAT);\r\n\r\n\tdueDate.add(283, 'days');\r\n\r\n\treturn dueDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getCheckingDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate))\r\n\t\treturn {\r\n\t\t\tstartDate: '',\r\n\t\t\tendDate: ''\r\n\t\t};\r\n\r\n\tconst startDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(18, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\tconst endDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(26, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\r\n\treturn {\r\n\t\tstartDate,\r\n\t\tendDate\r\n\t};\r\n};\r\n\r\nexport const cowIsDue = (dueDate, date = getTodaysDate()) => {\r\n\tif (!dueDate || !dateRegex.test(dueDate)) return;\r\n\r\n\tdate = moment(toFormatedDate(date), DATE_FORMAT);\r\n\tconst startDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).subtract(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\tconst endDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).add(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDueDate) && date.isBefore(endDueDate)) ||\r\n\t\tdate.isSame(startDueDate) ||\r\n\t\tdate.isSame(endDueDate)\r\n\t);\r\n};\r\n\r\nexport const cowShouldBeChecked = (\r\n\tstartDate,\r\n\tendDate,\r\n\tdate = getTodaysDate()\r\n) => {\r\n\tstartDate = moment(startDate, DATE_FORMAT);\r\n\tendDate = moment(endDate, DATE_FORMAT);\r\n\tdate = moment(date, DATE_FORMAT);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDate) && date.isBefore(endDate)) ||\r\n\t\tdate.isSame(startDate) ||\r\n\t\tdate.isSame(endDate)\r\n\t);\r\n};\r\n\r\nexport const dateIsAfter = (date1, date2) => {\r\n\tdate1 = moment(date1, DATE_FORMAT);\r\n\tdate2 = moment(date2, DATE_FORMAT);\r\n\r\n\treturn date1.isAfter(date2);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/placeholderCow.dc244408.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { cowIsDue, cowShouldBeChecked } from '../../utils/dates';\r\nimport placeholderImage from '../../shared/images/placeholderCow.png';\r\n\r\nexport default function CowItem(props) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`cow-item ${props.displayOnly ? 'my-3' : 'my-4'} mx-1 ${\r\n\t\t\t\tcowIsDue(props.dueOn) && 'cow-due'\r\n\t\t\t}`}>\r\n\t\t\t<div className=\"cow-item-spacing\"></div>\r\n\t\t\t<div className=\"cow-item-image\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tprops.image\r\n\t\t\t\t\t\t\t? `${process.env.REACT_APP_BACKEND_URL}/cows/image/${props.image}`\r\n\t\t\t\t\t\t\t: placeholderImage\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt=\"Your Cow\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"cow-item-info p-1\">\r\n\t\t\t\t<div className=\"cow-item-all\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Tag:</strong> {props.tag}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"mb-1\">\r\n\t\t\t\t\t\t<strong>Name:</strong> {props.name}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Born On:</strong> {props.bornOn}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Liters Of Milk:</strong> {props.milk}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Antibiotic Date:</strong> {props.antibioticDate}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Mother & Children:</strong>{' '}\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={`/cows/relatives/${props.id}`}\r\n\t\t\t\t\t\t\tclassName=\"text-primary\">\r\n\t\t\t\t\t\t\tView Relatives\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cow-item-dates\">\r\n\t\t\t\t\t{props.fertDate && (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<p className=\"my-0-5\">\r\n\t\t\t\t\t\t\t\t<strong>Fertalization Date:</strong>{' '}\r\n\t\t\t\t\t\t\t\t{props.fertDate}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Due On:</strong>{' '}\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\tcowIsDue(props.dueOn)\r\n\t\t\t\t\t\t\t\t\t\t\t? 'text-danger'\r\n\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t{cowIsDue(props.dueOn) && (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle mx-0-5\"></i>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{props.dueOn}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Checking Dates: </strong>{' '}\r\n\t\t\t\t\t\t\t\t{props.checkingDates && (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\tcowShouldBeChecked(\r\n\t\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates.startDate,\r\n\t\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates.endDate\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t? 'text-warning'\r\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t{cowShouldBeChecked(\r\n\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates.startDate,\r\n\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates.endDate\r\n\t\t\t\t\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle mx-0-5\"></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{`${props.checkingDates.startDate} - ${props.checkingDates.endDate}`}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{!props.displayOnly && (\r\n\t\t\t\t\t<div className=\"cow-item-buttons\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={`/cows/edit/${props.id}`}\r\n\t\t\t\t\t\t\tclassName=\"fas fa-pen icon-primary\"></Link>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"fas fa-trash icon-primary\"\r\n\t\t\t\t\t\t\tonClick={() => props.onDelete(props.id)}></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Navbar from '../../shared/components/Navbar';\r\nimport CowItem from '../components/CowItem';\r\nimport Alert from '../../shared/components/Alert';\r\nimport Loading from '../../shared/components/Loading';\r\nimport { useHttp } from '../../shared/hooks/http-hook';\r\nimport AuthContext from '../../context/auth-context';\r\n\r\nexport default function CowRelatives() {\r\n\tconst [currentCow, setCurrentCow] = useState();\r\n\tconst [mother, setMother] = useState();\r\n\tconst [children, setChildren] = useState();\r\n\tconst { cowId } = useParams();\r\n\tconst [isLoading, error, sendRequest] = useHttp();\r\n\tconst auth = useContext(AuthContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchCowRelatives = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst responseData = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/cows/relatives/${cowId}`,\r\n\t\t\t\t\t'GET',\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tsetCurrentCow(responseData.currentCow);\r\n\t\t\t\tsetMother(responseData.mother);\r\n\t\t\t\tsetChildren(responseData.children);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchCowRelatives();\r\n\t}, [auth.token, cowId, sendRequest]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Navbar />\r\n\t\t\t{isLoading && <Loading />}\r\n\t\t\t{error && (\r\n\t\t\t\t<div className=\"container my-1\">\r\n\t\t\t\t\t<Alert type=\"error\" message={error} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!isLoading && !error && (\r\n\t\t\t\t<div className=\"container my-4 center\">\r\n\t\t\t\t\t<div className=\"mx-1\">\r\n\t\t\t\t\t\t<h1>Current Cow: </h1>\r\n\t\t\t\t\t\t{!currentCow && (\r\n\t\t\t\t\t\t\t<p className=\"lead mb-2\">No cow found.</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{currentCow && (\r\n\t\t\t\t\t\t\t<CowItem\r\n\t\t\t\t\t\t\t\tkey={currentCow.id}\r\n\t\t\t\t\t\t\t\tid={currentCow.id}\r\n\t\t\t\t\t\t\t\tname={currentCow.name}\r\n\t\t\t\t\t\t\t\ttag={currentCow.tag}\r\n\t\t\t\t\t\t\t\tfertDate={currentCow.fertDate}\r\n\t\t\t\t\t\t\t\tdueOn={currentCow.dueOn}\r\n\t\t\t\t\t\t\t\tbornOn={currentCow.bornOn}\r\n\t\t\t\t\t\t\t\timage={currentCow.image}\r\n\t\t\t\t\t\t\t\tmother={currentCow.mother}\r\n\t\t\t\t\t\t\t\tchildren={currentCow.children}\r\n\t\t\t\t\t\t\t\tdisplayOnly\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<h1>Mother: {currentCow && currentCow.mother}</h1>\r\n\t\t\t\t\t\t{!mother && (\r\n\t\t\t\t\t\t\t<p className=\"lead mb-2\">No mother cow found.</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{mother && (\r\n\t\t\t\t\t\t\t<CowItem\r\n\t\t\t\t\t\t\t\tkey={mother.id}\r\n\t\t\t\t\t\t\t\tid={mother.id}\r\n\t\t\t\t\t\t\t\tname={mother.name}\r\n\t\t\t\t\t\t\t\ttag={mother.tag}\r\n\t\t\t\t\t\t\t\tfertDate={mother.fertDate}\r\n\t\t\t\t\t\t\t\tdueOn={mother.dueOn}\r\n\t\t\t\t\t\t\t\tbornOn={mother.bornOn}\r\n\t\t\t\t\t\t\t\timage={mother.image}\r\n\t\t\t\t\t\t\t\tmother={mother.mother}\r\n\t\t\t\t\t\t\t\tchildren={mother.children}\r\n\t\t\t\t\t\t\t\tdisplayOnly\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<h1>Children: {children && children.length}</h1>\r\n\t\t\t\t\t\t{children &&\r\n\t\t\t\t\t\t\tchildren.length !== 0 &&\r\n\t\t\t\t\t\t\tchildren.map(cow => (\r\n\t\t\t\t\t\t\t\t<CowItem\r\n\t\t\t\t\t\t\t\t\tkey={cow.id}\r\n\t\t\t\t\t\t\t\t\tid={cow.id}\r\n\t\t\t\t\t\t\t\t\tname={cow.name}\r\n\t\t\t\t\t\t\t\t\ttag={cow.tag}\r\n\t\t\t\t\t\t\t\t\tfertDate={cow.fertDate}\r\n\t\t\t\t\t\t\t\t\tdueOn={cow.dueOn}\r\n\t\t\t\t\t\t\t\t\tbornOn={cow.bornOn}\r\n\t\t\t\t\t\t\t\t\timage={cow.image}\r\n\t\t\t\t\t\t\t\t\tmother={cow.mother}\r\n\t\t\t\t\t\t\t\t\tchildren={cow.children}\r\n\t\t\t\t\t\t\t\t\tdisplayOnly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"sourceRoot":""}