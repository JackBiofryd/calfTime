{"version":3,"sources":["shared/components/Button.js","shared/components/NavLinks.js","shared/images/logo.png","shared/components/Navbar.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","shared/components/Alert.js","shared/hooks/http-hook.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","utils/validators.js","shared/images/cowGrass.png","utils/dates.js","shared/components/Input.js","shared/hooks/form-hook.js","shared/images/placeholderCow.png","shared/components/ImageUpload.js","cows/pages/EditCow.js"],"names":["Button","props","href","className","color","danger","inverse","block","extraClasses","children","to","exact","type","onClick","disabled","NavLinks","auth","useContext","AuthContext","isLoggedIn","Fragment","logout","Navbar","fixed","src","logo","alt","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Alert","getIconClassName","message","code","useHttp","useState","isLoading","setIsLoading","error","setError","useCallback","a","url","method","body","headers","fetch","response","json","data","Error","ok","msg","_defineProperty","obj","value","configurable","writable","REQUIRED","MIN_LENGTH","MAX_LENGTH","IS_EMAIL","IS_DATE","IS_OVER","num","dateRegex","validate","validators","isValid","validator","trim","test","Number","DATE_FORMAT","getTodaysDate","moment","format","toFormatedDate","date","getDueDate","fertilizationDate","dueDate","add","getCheckingDate","startDate","endDate","cowIsDue","startDueDate","subtract","endDueDate","isAfter","isBefore","isSame","cowShouldBeChecked","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialValid","dispatch","id","onInput","useEffect","htmlFor","name","label","onChange","e","notRequired","onBlur","placeholder","autoComplete","min","errorText","formReducer","formValidity","inputId","inputs","isFormValid","newInputs","newFormValidity","useForm","initialInputs","initialFormValidity","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","fileTooBig","setFileTooBig","filePickerRef","useRef","fileReader","FileReader","onload","result","readAsDataURL","style","display","accept","ref","pickedFile","fileIsValid","files","size","initialUrl","current","click","EditCow","foundCow","setFoundCow","sendRequest","tag","birthDate","motherTag","fertDate","antibioticDate","milk","image","inputChangeHandler","setFormData","history","useHistory","cowId","useParams","process","Authorization","token","responseData","currentCow","cow","bornOn","mother","console","fetchCow","formSubmitHandler","preventDefault","newCow","formData","FormData","append","JSON","stringify","onSubmit","placeholderImage","cowImage"],"mappings":"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","file":"static/js/4.62f5f3e0.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Button(props) {\r\n\tif (props.href) {\r\n\t\treturn (\r\n\t\t\t<a\r\n\t\t\t\thref={props.href}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\tif (props.to) {\r\n\t\treturn (\r\n\t\t\t<Link\r\n\t\t\t\tto={props.to}\r\n\t\t\t\texact={props.exact}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype={props.type}\r\n\t\t\tonClick={props.onClick}\r\n\t\t\tdisabled={props.disabled}\r\n\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t} ${props.inverse && 'btn-inverse'} ${props.block && 'btn-block'} ${\r\n\t\t\t\tprops.extraClasses\r\n\t\t\t} ${props.disabled && 'btn-disabled'}`}>\r\n\t\t\t{props.children}\r\n\t\t</button>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport Button from './Button';\r\nimport AuthContext from '../../context/auth-context';\r\n\r\nexport default function NavLinks() {\r\n\tconst auth = useContext(AuthContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ul className=\"nav-links\">\r\n\t\t\t\t{auth.isLoggedIn && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button to=\"/cows\">COWS</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button onClick={auth.logout}>LOGOUT</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/login\">LOGIN</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/signup\">SIGN UP</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6237e665.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavLinks from './NavLinks';\r\nimport logo from '../images/logo.png';\r\n\r\nexport default function Navbar(props) {\r\n\treturn (\r\n\t\t<nav className={`main-navbar py-1 ${props.fixed && 'navbar-fixed'}`}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Link to=\"/\" className=\"nav-logo\">\r\n\t\t\t\t\t<img className=\"logo\" src={logo} alt=\"Logo\" />\r\n\t\t\t\t\t<h1 className=\"M-heading\">Calf Time</h1>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<NavLinks />\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react';\r\n\r\nexport default function Alert(props) {\r\n\tconst getIconClassName = type => {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'error':\r\n\t\t\t\treturn 'fas fa-exclamation-circle';\r\n\t\t\tcase 'info':\r\n\t\t\t\treturn 'fas fa-info-circle';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'fas icon';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`alert-container my-1-5 alert-${props.type}`}>\r\n\t\t\t<i className={`${getIconClassName(props.type)} mr-1`}></i>\r\n\t\t\t<p>\r\n\t\t\t\t{props.message}\r\n\t\t\t\t{props.code && `: ${props.code}`}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [error, setError] = useState();\r\n\r\n\tconst sendRequest = useCallback(\r\n\t\tasync (url = '', method = 'GET', body = null, headers = {}) => {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url, {\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t\theaders\r\n\t\t\t\t});\r\n\t\t\t\tlet data;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata = await response.json();\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tthrow new Error('Something went wrong, please try again.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!response.ok) throw new Error(data.msg);\r\n\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\treturn data;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetError(err.message);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn [isLoading, error, sendRequest];\r\n};\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const REQUIRED = () => ({ type: 'REQUIRED' });\r\nexport const MIN_LENGTH = length => ({ type: 'MIN_LENGTH', length });\r\nexport const MAX_LENGTH = length => ({ type: 'MAX_LENGTH', length });\r\nexport const IS_EMAIL = () => ({ type: 'IS_EMAIL' });\r\nexport const IS_DATE = () => ({ type: 'IS_DATE' });\r\nexport const IS_OVER = num => ({ type: 'IS_OVER', num });\r\n\r\nconst dateRegex = /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/;\r\n\r\nexport const validate = (value, validators) => {\r\n\tlet isValid = true;\r\n\tvalidators.forEach(validator => {\r\n\t\tswitch (validator.type) {\r\n\t\t\tcase 'REQUIRED':\r\n\t\t\t\tisValid = isValid && value.trim().length > 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'MIN_LENGTH':\r\n\t\t\t\tisValid = isValid && value.trim().length >= validator.length;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'MAX_LENGTH':\r\n\t\t\t\tisValid = isValid && value.trim().length <= validator.length;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'IS_EMAIL':\r\n\t\t\t\tisValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'IS_DATE':\r\n\t\t\t\tisValid = isValid && dateRegex.test(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'IS_OVER':\r\n\t\t\t\tisValid = isValid && Number(value) > validator.num;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n\r\n\treturn isValid;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/cowGrass.2d09bc11.png\";","import moment from 'moment';\r\n\r\nconst dateRegex = /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/;\r\nconst DATE_FORMAT = 'DD.MM.YYYY';\r\n\r\nexport const getTodaysDate = () => {\r\n\tconst todayDate = moment();\r\n\r\n\treturn todayDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const toFormatedDate = date => {\r\n\tif (!date || !dateRegex.test(date)) return;\r\n\r\n\tconst dateObject = moment(date, DATE_FORMAT);\r\n\r\n\treturn dateObject.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getDueDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate)) return;\r\n\r\n\tconst dueDate = moment(fertilizationDate, DATE_FORMAT);\r\n\r\n\tdueDate.add(283, 'days');\r\n\r\n\treturn dueDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getCheckingDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate))\r\n\t\treturn {\r\n\t\t\tstartDate: '',\r\n\t\t\tendDate: ''\r\n\t\t};\r\n\r\n\tconst startDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(18, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\tconst endDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(26, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\r\n\treturn {\r\n\t\tstartDate,\r\n\t\tendDate\r\n\t};\r\n};\r\n\r\nexport const cowIsDue = (dueDate, date = getTodaysDate()) => {\r\n\tif (!dueDate || !dateRegex.test(dueDate)) return;\r\n\r\n\tdate = moment(toFormatedDate(date), DATE_FORMAT);\r\n\tconst startDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).subtract(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\tconst endDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).add(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDueDate) && date.isBefore(endDueDate)) ||\r\n\t\tdate.isSame(startDueDate) ||\r\n\t\tdate.isSame(endDueDate)\r\n\t);\r\n};\r\n\r\nexport const cowShouldBeChecked = (\r\n\tstartDate,\r\n\tendDate,\r\n\tdate = getTodaysDate()\r\n) => {\r\n\tstartDate = moment(startDate, DATE_FORMAT);\r\n\tendDate = moment(endDate, DATE_FORMAT);\r\n\tdate = moment(date, DATE_FORMAT);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDate) && date.isBefore(endDate)) ||\r\n\t\tdate.isSame(startDate) ||\r\n\t\tdate.isSame(endDate)\r\n\t);\r\n};\r\n\r\nexport const dateIsAfter = (date1, date2) => {\r\n\tdate1 = moment(date1, DATE_FORMAT);\r\n\tdate2 = moment(date2, DATE_FORMAT);\r\n\r\n\treturn date1.isAfter(date2);\r\n};\r\n","import React, { useReducer, useEffect } from 'react';\r\nimport { validate } from '../../utils/validators';\r\n\r\nconst inputReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'CHANGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tvalue: action.value,\r\n\t\t\t\tisValid: action.isValid\r\n\t\t\t};\r\n\t\tcase 'TOUCH':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisTouched: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default function Input(props) {\r\n\tconst [state, dispatch] = useReducer(inputReducer, {\r\n\t\tvalue: props.initialValue || '',\r\n\t\tisValid: props.initialValid || false,\r\n\t\tisTouched: false\r\n\t});\r\n\r\n\tconst handleChange = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tlet isValid = true;\r\n\t\tprops?.validators && (isValid = validate(value, props.validators));\r\n\t\t// If its not required and user hasnt inputed anything, cancel the validation and just set it to true\r\n\t\tif (props.notRequired && !value) {\r\n\t\t\tisValid = true;\r\n\t\t}\r\n\r\n\t\tdispatch({ type: 'CHANGE', value, isValid });\r\n\t};\r\n\r\n\tconst handleBlur = () => dispatch({ type: 'TOUCH' });\r\n\r\n\tconst { id, onInput } = props;\r\n\tconst { value, isValid } = state;\r\n\r\n\tuseEffect(() => {\r\n\t\tonInput(id, value, isValid);\r\n\t}, [value, isValid, id, onInput]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`form-group my-1-5 center ${\r\n\t\t\t\t!state.isValid && state.isTouched && 'form-group-invalid'\r\n\t\t\t}`}>\r\n\t\t\t<label htmlFor={props.name} className=\"form-label lead\">\r\n\t\t\t\t{props.label}\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\ttype={props.type}\r\n\t\t\t\tvalue={state.value}\r\n\t\t\t\tname={props.name}\r\n\t\t\t\tid={props.id}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tclassName={`input ${\r\n\t\t\t\t\t!state.isValid && state.isTouched && 'input-invalid'\r\n\t\t\t\t}`}\r\n\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tmin={props.min}\r\n\t\t\t/>\r\n\t\t\t{!state.isValid && state.isTouched && (\r\n\t\t\t\t<small className=\"erorr-text\">{props.errorText}</small>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useReducer, useCallback } from 'react';\r\n\r\nconst formReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'CHANGE':\r\n\t\t\tlet formValidity = true;\r\n\t\t\tfor (const inputId in state.inputs) {\r\n\t\t\t\tif (inputId === action.id) {\r\n\t\t\t\t\tformValidity = formValidity && action.isValid;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tformValidity = formValidity && state.inputs[inputId].isValid;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinputs: {\r\n\t\t\t\t\t...state.inputs,\r\n\t\t\t\t\t[action.id]: {\r\n\t\t\t\t\t\tvalue: action.value,\r\n\t\t\t\t\t\tisValid: action.isValid\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tisFormValid: formValidity\r\n\t\t\t};\r\n\t\tcase 'SET_DATA':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinputs: action.newInputs,\r\n\t\t\t\tisFormValid: action.newFormValidity\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n\tconst [state, dispatch] = useReducer(formReducer, {\r\n\t\tinputs: initialInputs,\r\n\t\tisFormValid: initialFormValidity\r\n\t});\r\n\r\n\tconst inputChangeHandler = useCallback(\r\n\t\t(id, value, isValid) =>\r\n\t\t\tdispatch({ type: 'CHANGE', id, value, isValid }),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst setFormData = useCallback(\r\n\t\t(newInputs, newFormValidity) =>\r\n\t\t\tdispatch({ type: 'SET_DATA', newInputs, newFormValidity }),\r\n\t\t[]\r\n\t);\r\n\r\n\treturn [state, inputChangeHandler, setFormData];\r\n};\r\n","export default __webpack_public_path__ + \"static/media/placeholderCow.dc244408.png\";","import React, { useRef, useState, useEffect } from 'react';\r\n\r\nimport Button from './Button';\r\n\r\nexport default function ImageUpload(props) {\r\n\tconst [file, setFile] = useState();\r\n\tconst [previewUrl, setPreviewUrl] = useState();\r\n\tconst [isValid, setIsValid] = useState();\r\n\tconst [fileTooBig, setFileTooBig] = useState();\r\n\r\n\tconst filePickerRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!file) return;\r\n\r\n\t\tconst fileReader = new FileReader();\r\n\t\tfileReader.onload = () => {\r\n\t\t\tsetPreviewUrl(fileReader.result);\r\n\t\t};\r\n\t\tfileReader.readAsDataURL(file);\r\n\t}, [file]);\r\n\r\n\tconst pickImageHandler = () => filePickerRef.current.click();\r\n\r\n\tconst pickedHandler = e => {\r\n\t\tlet fileIsValid = isValid;\r\n\r\n\t\tlet pickedFile;\r\n\t\tif (e.target.files && e.target.files.length === 1) {\r\n\t\t\tpickedFile = e.target.files[0];\r\n\t\t\tif (pickedFile.size > 500000) {\r\n\t\t\t\tsetFile(pickedFile);\r\n\t\t\t\tsetFileTooBig(true);\r\n\t\t\t\tsetIsValid(false);\r\n\t\t\t\tfileIsValid = false;\r\n\t\t\t} else {\r\n\t\t\t\tsetFile(pickedFile);\r\n\t\t\t\tsetFileTooBig(false);\r\n\t\t\t\tsetIsValid(true);\r\n\t\t\t\tfileIsValid = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tfileIsValid = false;\r\n\t\t}\r\n\r\n\t\tprops.onInput(props.id, pickedFile, fileIsValid);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"form-group center mb-1\">\r\n\t\t\t<input\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\tid={props.id}\r\n\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\taccept=\".jpg,.png,.jpeg\"\r\n\t\t\t\tref={filePickerRef}\r\n\t\t\t\tonChange={pickedHandler}\r\n\t\t\t/>\r\n\t\t\t<div className=\"image-upload center\">\r\n\t\t\t\t{(previewUrl || props.initialUrl) && (\r\n\t\t\t\t\t<div className=\"image-upload-preview\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={previewUrl || props.initialUrl}\r\n\t\t\t\t\t\t\talt=\"Preview\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button type=\"button\" onClick={pickImageHandler}>\r\n\t\t\t\t\tUpload Cow Image\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t{fileTooBig && file && <p className=\"error\">Image too big.</p>}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Navbar from '../../shared/components/Navbar';\r\nimport Input from '../../shared/components/Input';\r\nimport Button from '../../shared/components/Button';\r\nimport Loading from '../../shared/components/Loading';\r\nimport cowImage from '../../shared/images/cowGrass.png';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { useHttp } from '../../shared/hooks/http-hook';\r\nimport {\r\n\tREQUIRED,\r\n\tMIN_LENGTH,\r\n\tIS_DATE,\r\n\tIS_OVER,\r\n\tMAX_LENGTH\r\n} from '../../utils/validators';\r\nimport { getTodaysDate, toFormatedDate } from '../../utils/dates';\r\nimport Alert from '../../shared/components/Alert';\r\nimport AuthContext from '../../context/auth-context';\r\nimport ImageUpload from '../../shared/components/ImageUpload';\r\nimport placeholderImage from '../../shared/images/placeholderCow.png';\r\n\r\nexport default function EditCow() {\r\n\tconst [foundCow, setFoundCow] = useState();\r\n\tconst [isLoading, error, sendRequest] = useHttp();\r\n\tconst [state, inputChangeHandler, setFormData] = useForm(\r\n\t\t{\r\n\t\t\ttag: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: false\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: false\r\n\t\t\t},\r\n\t\t\tbirthDate: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\tmotherTag: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: false\r\n\t\t\t},\r\n\t\t\tfertDate: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\tantibioticDate: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\tmilk: {\r\n\t\t\t\tvalue: 0,\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\timage: {\r\n\t\t\t\tvalue: null,\r\n\t\t\t\tisValid: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tfalse\r\n\t);\r\n\tconst auth = useContext(AuthContext);\r\n\tconst history = useHistory();\r\n\tconst { cowId } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchCow = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst responseData = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/cows/${cowId}`,\r\n\t\t\t\t\t'GET',\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst currentCow = responseData.cow;\r\n\r\n\t\t\t\tsetFormData(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttag: {\r\n\t\t\t\t\t\t\tvalue: currentCow.tag,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tname: {\r\n\t\t\t\t\t\t\tvalue: currentCow.name,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbirthDate: {\r\n\t\t\t\t\t\t\tvalue: currentCow.bornOn,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmotherTag: {\r\n\t\t\t\t\t\t\tvalue: currentCow.mother,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfertDate: {\r\n\t\t\t\t\t\t\tvalue: currentCow.fertDate,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tantibioticDate: {\r\n\t\t\t\t\t\t\tvalue: currentCow.antibioticDate,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmilk: {\r\n\t\t\t\t\t\t\tvalue: currentCow.milk,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\timage: {\r\n\t\t\t\t\t\t\tvalue: null,\r\n\t\t\t\t\t\t\tisValid: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t\tsetFoundCow(currentCow);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchCow();\r\n\t}, [auth.token, cowId, sendRequest, setFormData]);\r\n\r\n\tconst formSubmitHandler = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst newCow = {\r\n\t\t\t...foundCow,\r\n\t\t\ttag: state.inputs.tag.value,\r\n\t\t\tname: state.inputs.name.value,\r\n\t\t\tbornOn:\r\n\t\t\t\ttoFormatedDate(state.inputs.birthDate.value) || getTodaysDate(),\r\n\t\t\tmother: state.inputs.motherTag.value,\r\n\t\t\tfertDate: toFormatedDate(state.inputs.fertDate.value),\r\n\t\t\tantibioticDate: toFormatedDate(state.inputs.antibioticDate.value),\r\n\t\t\tmilk: state.inputs.milk.value || 0\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('cow', JSON.stringify(newCow));\r\n\t\t\tformData.append('image', state.inputs.image.value);\r\n\r\n\t\t\tawait sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/cows/${cowId}`,\r\n\t\t\t\t'PATCH',\r\n\t\t\t\tformData,\r\n\t\t\t\t{\r\n\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\thistory.push('/cows');\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Navbar />\r\n\t\t\t{isLoading && <Loading />}\r\n\t\t\t{!foundCow && !isLoading && (\r\n\t\t\t\t<h1 className=\"center my-2\">No Cow Found.</h1>\r\n\t\t\t)}\r\n\t\t\t{foundCow && !isLoading && (\r\n\t\t\t\t<div className=\"container p-1\">\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName=\"form my-4 p-2\"\r\n\t\t\t\t\t\tonSubmit={formSubmitHandler}>\r\n\t\t\t\t\t\t<h1 className=\"center L-heading mb-1\">\r\n\t\t\t\t\t\t\tEdit <span className=\"text-primary\">Cow</span>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{error && <Alert message={error} type=\"error\" />}\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Tag\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Tag...\"\r\n\t\t\t\t\t\t\tname=\"tag\"\r\n\t\t\t\t\t\t\tid=\"tag\"\r\n\t\t\t\t\t\t\tvalidators={[MIN_LENGTH(4), MAX_LENGTH(20)]}\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Tag\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tinitialValue={state.inputs.tag.value}\r\n\t\t\t\t\t\t\tinitialValid={state.inputs.tag.isValid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Name...\"\r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\tvalidators={[REQUIRED(), MAX_LENGTH(20)]}\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Name\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tinitialValue={state.inputs.name.value}\r\n\t\t\t\t\t\t\tinitialValid={state.inputs.name.isValid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Mother Tag\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Tag of Mother...\"\r\n\t\t\t\t\t\t\tname=\"motherTag\"\r\n\t\t\t\t\t\t\tid=\"motherTag\"\r\n\t\t\t\t\t\t\tvalidators={[MIN_LENGTH(4), MAX_LENGTH(20)]}\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Tag\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tinitialValue={state.inputs.motherTag.value}\r\n\t\t\t\t\t\t\tinitialValid={state.inputs.motherTag.isValid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p className=\"center my-1\">\r\n\t\t\t\t\t\t\tThe next fields can be left empty for automatic\r\n\t\t\t\t\t\t\tdata.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Birth Date\"\r\n\t\t\t\t\t\t\tplaceholder={`Enter Date (${getTodaysDate()})`}\r\n\t\t\t\t\t\t\tname=\"birthDate\"\r\n\t\t\t\t\t\t\tid=\"birthDate\"\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Birth Date\"\r\n\t\t\t\t\t\t\tvalidators={[IS_DATE()]}\r\n\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\tinitialValue={state.inputs.birthDate.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Fertilization Date\"\r\n\t\t\t\t\t\t\tplaceholder=\"Ente Date...\"\r\n\t\t\t\t\t\t\tname=\"fertDate\"\r\n\t\t\t\t\t\t\tid=\"fertDate\"\r\n\t\t\t\t\t\t\tvalidators={[IS_DATE()]}\r\n\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Date (Leave Empty For None)\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\tinitialValue={state.inputs.fertDate.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Antibiotic Date\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Date...\"\r\n\t\t\t\t\t\t\tname=\"antibioticDate\"\r\n\t\t\t\t\t\t\tid=\"antibioticDate\"\r\n\t\t\t\t\t\t\tvalidators={[IS_DATE()]}\r\n\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Date (Leave Empty For None)\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\tinitialValue={state.inputs.antibioticDate.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tlabel=\"Liters Of Milk\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Liters (0)\"\r\n\t\t\t\t\t\t\tname=\"milk\"\r\n\t\t\t\t\t\t\tid=\"milk\"\r\n\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\tvalidators={[IS_OVER(-1)]}\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Number\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\tinitialValid={state.inputs.milk.isValid}\r\n\t\t\t\t\t\t\tinitialValue={state.inputs.milk.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ImageUpload\r\n\t\t\t\t\t\t\tid=\"image\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\tinitialUrl={\r\n\t\t\t\t\t\t\t\tfoundCow.image\r\n\t\t\t\t\t\t\t\t\t? `${process.env.REACT_APP_BACKEND_URL}/cows/image/${foundCow.image}`\r\n\t\t\t\t\t\t\t\t\t: placeholderImage\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\tdisabled={!state.isFormValid}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\textraClasses=\"my-1\">\r\n\t\t\t\t\t\t\tEdit Cow\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={cowImage}\r\n\t\t\t\t\t\t\tclassName=\"cow-img\"\r\n\t\t\t\t\t\t\talt=\"Cow Eating Grass\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"sourceRoot":""}