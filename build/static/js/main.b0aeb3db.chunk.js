(this.webpackJsonpcalftime=this.webpackJsonpcalftime||[]).push([[1],{15:function(e,t,n){"use strict";var c=n(0);t.a=Object(c.createContext)({token:null,login:function(){},logout:function(){},userId:"",isLoggedIn:!1})},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(0);var c=n(1);function a(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"center my-1",children:"Loading..."}),Object(c.jsx)("div",{className:"loader"})]})}},24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c,a=n(0),i=n.n(a),l=n(18),r=n.n(l),o=(n(24),n(8)),s=n(2),j=n(14),u=n(16),b=n(15),d=n(1),x=i.a.lazy((function(){return n.e(10).then(n.bind(null,57))})),O=i.a.lazy((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,58))})),h=i.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,51))})),f=i.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,52))})),g=i.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,53))})),p=i.a.lazy((function(){return n.e(5).then(n.bind(null,54))})),m=i.a.lazy((function(){return n.e(6).then(n.bind(null,55))}));var v=function(){var e,t=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],l=Object(a.useState)(""),r=Object(o.a)(l,2),s=r[0],j=r[1],u=Object(a.useCallback)((function(e,t,n){j(e),i(t);var a=n||new Date((new Date).getTime()+36e5);c=setTimeout(b,new Date(a)-new Date),localStorage.setItem("loginInfo",JSON.stringify({userId:e,token:t,expiration:new Date(a).toISOString()}))}),[]),b=function(){i(null),j(""),localStorage.removeItem("loginInfo"),clearTimeout(c)};return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("loginInfo"));e&&e.token&&new Date(e.expiration)>new Date&&u(e.userId,e.token,e.expiration)}),[u]),[n,s,u,b]}(),n=Object(o.a)(t,4),i=n[0],l=n[1],r=n[2],v=n[3];return e=i?Object(d.jsxs)(s.d,{children:[Object(d.jsx)(s.b,{exact:!0,path:"/",children:Object(d.jsx)(x,{})}),Object(d.jsx)(s.b,{exact:!0,path:"/cows",children:Object(d.jsx)(O,{})}),Object(d.jsx)(s.b,{exact:!0,path:"/cows/new",children:Object(d.jsx)(h,{})}),Object(d.jsx)(s.b,{exact:!0,path:"/cows/relatives/:cowId",children:Object(d.jsx)(f,{})}),Object(d.jsx)(s.b,{exact:!0,path:"/cows/edit/:cowId",children:Object(d.jsx)(g,{})}),Object(d.jsx)(s.a,{to:"/"})]}):Object(d.jsxs)(s.d,{children:[Object(d.jsx)(s.b,{exact:!0,path:"/",children:Object(d.jsx)(x,{})}),Object(d.jsx)(s.b,{exact:!0,path:"/login",children:Object(d.jsx)(p,{})}),Object(d.jsx)(s.b,{exact:!0,path:"/signup",children:Object(d.jsx)(m,{})}),Object(d.jsx)(s.a,{to:"/login"})]}),Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(b.a.Provider,{value:{token:i,login:r,logout:v,userId:l,isLoggedIn:!!i},children:Object(d.jsx)(j.a,{children:Object(d.jsx)(a.Suspense,{fallback:Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(u.a,{})}),children:e})})})})},I=function(e){e&&e instanceof Function&&n.e(11).then(n.bind(null,56)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),i(e),l(e)}))};r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),I()}},[[31,2,3]]]);
//# sourceMappingURL=main.b0aeb3db.chunk.js.map