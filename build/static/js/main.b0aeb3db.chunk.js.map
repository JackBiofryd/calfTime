{"version":3,"sources":["context/auth-context.js","shared/components/Loading.js","shared/hooks/auth-hook.js","App.js","reportWebVitals.js","index.js"],"names":["createContext","token","login","logout","userId","isLoggedIn","Loading","className","logoutTimer","LandingPage","React","lazy","UserCows","AddCow","CowRelatives","EditCow","Login","SignUp","App","routes","useState","setToken","setUserId","useCallback","uId","expirationDate","tokenExpirationDate","Date","getTime","setTimeout","localStorage","setItem","JSON","stringify","expiration","toISOString","removeItem","clearTimeout","useEffect","loginInfo","parse","getItem","useAuth","exact","path","to","Provider","value","fallback","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0aeb3db.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nexport default createContext({\r\n\ttoken: null,\r\n\tlogin: () => {},\r\n\tlogout: () => {},\r\n\tuserId: '',\r\n\tisLoggedIn: false\r\n});\r\n","import React from 'react';\r\n\r\nexport default function Loading() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1 className=\"center my-1\">Loading...</h1>\r\n\t\t\t<div className=\"loader\"></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useEffect, useCallback } from 'react';\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n\tconst [token, setToken] = useState(false);\r\n\tconst [userId, setUserId] = useState('');\r\n\r\n\tconst login = useCallback((uId, token, expirationDate) => {\r\n\t\tsetUserId(uId);\r\n\t\tsetToken(token);\r\n\t\tconst tokenExpirationDate =\r\n\t\t\texpirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n\r\n\t\tlogoutTimer = setTimeout(\r\n\t\t\tlogout,\r\n\t\t\tnew Date(tokenExpirationDate) - new Date()\r\n\t\t);\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'loginInfo',\r\n\t\t\tJSON.stringify({\r\n\t\t\t\tuserId: uId,\r\n\t\t\t\ttoken,\r\n\t\t\t\texpiration: new Date(tokenExpirationDate).toISOString()\r\n\t\t\t})\r\n\t\t);\r\n\t}, []);\r\n\r\n\tconst logout = () => {\r\n\t\tsetToken(null);\r\n\t\tsetUserId('');\r\n\t\tlocalStorage.removeItem('loginInfo');\r\n\t\tclearTimeout(logoutTimer);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst loginInfo = JSON.parse(localStorage.getItem('loginInfo'));\r\n\r\n\t\tif (\r\n\t\t\tloginInfo &&\r\n\t\t\tloginInfo.token &&\r\n\t\t\tnew Date(loginInfo.expiration) > new Date()\r\n\t\t) {\r\n\t\t\tlogin(loginInfo.userId, loginInfo.token, loginInfo.expiration);\r\n\t\t}\r\n\t}, [login]);\r\n\r\n\treturn [token, userId, login, logout];\r\n};\r\n","import React, { Suspense } from 'react';\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tRedirect\n} from 'react-router-dom';\nimport { useAuth } from './shared/hooks/auth-hook';\nimport Loading from './shared/components/Loading';\nimport AuthContext from './context/auth-context';\n\nconst LandingPage = React.lazy(() => import('./shared/pages/LandingPage'));\nconst UserCows = React.lazy(() => import('./cows/pages/UserCows'));\nconst AddCow = React.lazy(() => import('./cows/pages/AddCow'));\nconst CowRelatives = React.lazy(() => import('./cows/pages/CowRelatives'));\nconst EditCow = React.lazy(() => import('./cows/pages/EditCow'));\nconst Login = React.lazy(() => import('./users/pages/Login'));\nconst SignUp = React.lazy(() => import('./users/pages/SignUp'));\n\nfunction App() {\n\tconst [token, userId, login, logout] = useAuth();\n\n\tlet routes;\n\tif (token) {\n\t\troutes = (\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<LandingPage />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/cows\">\n\t\t\t\t\t<UserCows />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/cows/new\">\n\t\t\t\t\t<AddCow />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/cows/relatives/:cowId\">\n\t\t\t\t\t<CowRelatives />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/cows/edit/:cowId\">\n\t\t\t\t\t<EditCow />\n\t\t\t\t</Route>\n\t\t\t\t<Redirect to=\"/\" />\n\t\t\t</Switch>\n\t\t);\n\t} else {\n\t\troutes = (\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<LandingPage />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/login\">\n\t\t\t\t\t<Login />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/signup\">\n\t\t\t\t\t<SignUp />\n\t\t\t\t</Route>\n\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t</Switch>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<AuthContext.Provider\n\t\t\t\tvalue={{ token, login, logout, userId, isLoggedIn: !!token }}>\n\t\t\t\t<Router>\n\t\t\t\t\t<Suspense\n\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t<div className=\"center\">\n\t\t\t\t\t\t\t\t<Loading />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t{routes}\n\t\t\t\t\t</Suspense>\n\t\t\t\t</Router>\n\t\t\t</AuthContext.Provider>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}